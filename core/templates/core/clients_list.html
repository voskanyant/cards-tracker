{% extends "core/base.html" %}
{% block content %}
<section class="section-card">
  <h2 style="margin-top:0;">Add Client</h2>
  <form method="post" class="form-grid">
    {% csrf_token %}
    {{ form.non_field_errors }}
    {% for field in form %}
      <label>
        <span>{{ field.label }}{% if field.field.required %} *{% endif %}</span>
        {{ field }}
        {% if field.errors %}
          <small style="color:#c00;">{{ field.errors|join:", " }}</small>
        {% endif %}
      </label>
    {% endfor %}
    <div style="grid-column:1/-1; display:flex; justify-content:flex-end;">
      <button type="submit">Save Client</button>
    </div>
  </form>
</section>

<section class="section-card">
  <h2 style="margin:0;">Clients</h2>

  <div class="table-card table-scroll" style="margin-top:16px;">
    <table>
      <thead>
        <tr><th>Name</th><th>Status</th><th></th></tr>
      </thead>
      <tbody>
        {% for c in clients %}
          <tr>
            <td>{{ c.name }}</td>
            <td>{{ c.status }}</td>
            <td><a href="/clients/{{ c.id }}/edit/">Edit</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
